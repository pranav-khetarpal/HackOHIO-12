#include <stdio.h>

// set pin numbers
const int buttonPin = 18;  // Button pin
const int buttonPin2 = 19; // Button pin

// variable for storing the button status
int buttonState = 0;
int buttonState2 = 0;

void setup() {
  Serial.begin(115200);
  // initialize the button pin as an input
  pinMode(buttonPin, INPUT);
  // initialize the button pin as an input
  pinMode(buttonPin2, INPUT);
}

void loop() {
  FILE *write = fopen("interrupt.txt", "w");
  FILE *read = fopen("lowpriority.txt", "r")
  // read the state of the button value
  buttonState = digitalRead(buttonPin);
  buttonState2 = digitalRead(buttonPin2);
  Serial.println(buttonState + " " + buttonState2);
  delay(100);
  // if low priority warning exists
  if ((read == NULL) || (fgetc(read) == '1')) {
    for (int i = 0; i < 200; i++) // Loop 50 times and play a short tone each time
    {
      digitalWrite(buzzerPin, HIGH); // Set to HIGH to make the buzzer sound
      delay(3); // Wait for 3 milliseconds
      digitalWrite(buzzerPin, LOW); // LOW to turn off the buzzer
      delay(3); // 
    }
  }

  // if the button is pressed
  if (buttonState == HIGH) {
    // Send request for low priority message to program
    fprintf(write, "LOW_PRIORITY");

  } else if (buttonState2 == HIGH) {
    // Send request for last message to program
    fprintf(write, "LAST_MESSAGE");
  }

  write.close();
  read.close();
}
